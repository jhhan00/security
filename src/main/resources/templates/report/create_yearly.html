<!DOCTYPE html>
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Create Project Goal</title>
    <link rel="stylesheet" href="/bootstrap.css">
    <link rel="stylesheet" href="/bootstrap-grid.css">
    <link rel="stylesheet" href="/bootstrap-reboot.css">
    <link rel="stylesheet" type="text/css" href="/board.css">

    <script>
        let pcount = 0;
        function project_goal_add() {
            let addedform = document.getElementById('project_goal');
            let str =
                "<br/><label><strong>Project Name</strong></label>" +
                "<input type='text' class='form-control' name='project" + pcount + "' />" +
                "<label><strong>Description</strong></label><br/>" +
                "<textarea type='text' cols='80' placeholder='최대 2000자' name='project_description" + pcount + "'></textarea><br/>" +
                "<label>Project Start Date</label> <input type='text' placeholder='ex)2020-01-01' name='startDate" + pcount + "'/> " +
                "<label>Target Date</label> <input type='text' placeholder='ex)2020-01-01' name='TargetDate" + pcount + "'/><br/>" +
                "<div><strong>Milestone</strong></div>" +
                "<label>Quarter1</label> " + "<input class='form-control' type='text' name='quarter1_" + pcount + "'/> " +
                "<label>Quarter2</label>" + "<input class='form-control' type='text' name='quarter2_" + pcount + "'/>" +
                "<label>Quarter3</label>" + "<input class='form-control' type='text' name='quarter3_" + pcount + "'/>" +
                "<label>Quarter4</label>" + "<input class='form-control' type='text' name='quarter4_" + pcount + "'/>";
            let div = document.createElement('div');
            div.id="ProjectGoal" + pcount;
            div.innerHTML = str;
            addedform.appendChild(div);

            pcount++; console.log(pcount);
        }
        function project_goal_delete() {
            if(pcount > 1) {
                let addedDiv = document.getElementById("ProjectGoal" + (--pcount));
                document.getElementById('project_goal').removeChild(addedDiv);
            }
        }
    </script>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container">
            <a class="navbar-brand" href="/">Main</a>
            <a class="navbar-brand" th:href="${oldUrl}">Back</a>
        </div>
    </nav>
    <div class="container">
        <div>
            <div class="t-c">
                <span th:text="${user.username}">username</span>, Welcome!
<!--                <span th:text="${user.realName}">realname</span>-->
<!--                <span th:text="${user.role}">role</span>-->
            </div>
        </div>
        <hr/>
        <h5>Project Goal Writing!</h5>
        <div>
            <form th:object="${task}" method="post" action="/report/create/project_goal">
                <div>
                    <div id="project_goal"></div>
                    <input type="button" value="Add" onclick="project_goal_add()"/>
                    <input type="button" value="Delete" onclick="project_goal_delete()"/>
                </div><br/>
                <button class="btn btn-primary" type="submit">Submit</button>
            </form>
        </div>
    </div>
</body>
</html>